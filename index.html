<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>小谷的博客 - 记录一些生活趣事</title><meta name="author" content="小谷,gu.ziwen@outlook.com"><meta name="copyright" content="小谷"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="记录一些生活趣事">
<meta property="og:type" content="website">
<meta property="og:title" content="小谷的博客">
<meta property="og:url" content="https://guziwen-lab.github.io/index.html">
<meta property="og:site_name" content="小谷的博客">
<meta property="og:description" content="记录一些生活趣事">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2022/09/28/iEBxunMYAGHODFz.jpg">
<meta property="article:author" content="小谷">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2022/09/28/iEBxunMYAGHODFz.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://guziwen-lab.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a6a8fe63a57ca303dd1117df5f602aec";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小谷的博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-10-03 15:15:42'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s2.loli.net/2022/09/28/iEBxunMYAGHODFz.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://s2.loli.net/2022/09/28/jInW84NL3pKSVak.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小谷的博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小谷的博客</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/guziwen-lab/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:gu.ziwen@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_30087395/" target="_blank" title="Csdn"><i class="fa-solid fa-rss"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/cbde7b0b.html" title="Spring IoC 循环依赖问题"><img class="post_bg" src="https://img-blog.csdnimg.cn/3aa3e44f116944ef9b10b4dd735c156a.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring IoC 循环依赖问题"></a></div><div class="recent-post-info"><a class="article-title" href="/cbde7b0b.html" title="Spring IoC 循环依赖问题">Spring IoC 循环依赖问题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-03T06:53:41.000Z" title="发表于 2022-10-03 14:53:41">2022-10-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T07:00:10.019Z" title="更新于 2022-10-03 15:00:10">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a></span></div><div class="content">Spring IoC 循环依赖问题什么是循环依赖循环依赖其实就是循环引用，也就是两个或者两个以上的 Bean 互相持有对方，最终形成闭环。比如 A 依赖于 B，B 依赖于 C，C 又依赖于 A。
循环调用其实就是一个死循环，除非有终结条件。
Spring 中循环依赖场景有：

构造器的循环依赖（构造器注入）
Field 属性的循环依赖（set注入）

其中，构造器的循环依赖问题无法解决，只能拋出 BeanCurrentlyInCreationException 异常，在解决属性循环依赖时，spring 采用的是提前暴露对象的方法。
循环依赖处理机制
单例 bean 构造器参数循环依赖（无法解决）
prototype 原型 bean 循环依赖（无法解决）

对于原型 bean 的初始化过程中不论是通过构造器参数循环依赖还是通过 setXxx 方法产生循环依赖，Spring 都会直接报错处理。
Spring 不支持原型 bean 的循环依赖进入 AbstractBeanFactory#doGetBean 方法：
在获取 bean 之前如果这个原型 bean 正在被创建则直接抛出异常。原型  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/adc3e213.html" title="Spring Bean 的作用范围及生命周期"><img class="post_bg" src="https://img-blog.csdnimg.cn/46d42e4c19b2427da2b3e31453263650.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Bean 的作用范围及生命周期"></a></div><div class="recent-post-info"><a class="article-title" href="/adc3e213.html" title="Spring Bean 的作用范围及生命周期">Spring Bean 的作用范围及生命周期</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-03T06:51:45.000Z" title="发表于 2022-10-03 14:51:45">2022-10-03</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T07:00:10.019Z" title="更新于 2022-10-03 15:00:10">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a></span></div><div class="content">scope 定义 Bean 的作用范围
singleton（默认值）：单例模式的 bean 对象生命周期与容器相同对象出生：当创建容器时，对象就被创建了对象活着：只要容器在，对象一直活着对象死亡：当销毁容器时，对象就被销毁了
prototype：多例模式的 bean 对象，spring 框架只负责创建，不负责销毁对象出生：当使用对象时，创建新的对象实例对象活着：只要对象在使用中，就一直活着对象死亡：当对象⻓时间不用时，被 Java 的垃圾回收器回收了

Spring Bean 的生命周期
测试一下效果12345678910111213141516171819@Componentpublic class MyBeanPostProcessor implements BeanPostProcessor &#123;    @Override    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;        if (&quot;l ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/a5d2d7c3.html" title="Mybaits 架构原理"><img class="post_bg" src="https://s2.loli.net/2022/10/01/46p5Emr3uRMd7vo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mybaits 架构原理"></a></div><div class="recent-post-info"><a class="article-title" href="/a5d2d7c3.html" title="Mybaits 架构原理">Mybaits 架构原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-01T05:24:18.000Z" title="发表于 2022-10-01 13:24:18">2022-10-01</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:56:12.540Z" title="更新于 2022-10-03 14:56:12">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Mybatis/">Mybatis</a></span></div><div class="content">学习 Mybatis 的执行流程</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/708392e6.html" title="解决阿里云服务器中挖矿程序"><img class="post_bg" src="https://s2.loli.net/2022/10/01/fnwLNigZCUG7bTd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决阿里云服务器中挖矿程序"></a></div><div class="recent-post-info"><a class="article-title" href="/708392e6.html" title="解决阿里云服务器中挖矿程序">解决阿里云服务器中挖矿程序</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-29T02:31:11.000Z" title="发表于 2022-09-29 10:31:11">2022-09-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:55:47.221Z" title="更新于 2022-10-03 14:55:47">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%BA%BF%E4%B8%8A%E7%AA%81%E5%8F%91%E7%8A%B6%E5%86%B5%E5%A4%84%E7%90%86/">线上突发状况处理</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Linux/">Linux</a></span></div><div class="content">解决阿里云服务器中挖矿程序top命令看不到cpu占用特别高的进程，但是总cpu的us高达96%。
使用此命令，可以发现跟跟阿里云的通知挖矿程序名一样
1netstat -nap | grep zzh

12tcp        0      0 172.26.68.13:35174      43.230.161.175:5443     ESTABLISHED 22764/./zzhtcp        0      0 172.26.68.13:57640      195.242.110.31:5443     ESTABLISHED 22818/./zzh         

强行杀死两个进程
12kill -9 22764kill -9 22818

去zzh的目录卸载发现无法卸载
1rm /etc/zzh

查看文件隐藏属性，发现带有-aie:(—–ai——e) 表示无法修改(貌似e属性无所谓)
1lsattr /etc/zzh


A：文件或目录的 atime (access time)不可被修改(modified), 可以有效预防例如手提电脑磁盘I&#x2F;O错误的发 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/30c60d5c.html" title="什么是 IoC 和 AOP？"><img class="post_bg" src="https://img-blog.csdnimg.cn/d16ecf8f95a740f0a248bdc2849bb50f.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是 IoC 和 AOP？"></a></div><div class="recent-post-info"><a class="article-title" href="/30c60d5c.html" title="什么是 IoC 和 AOP？">什么是 IoC 和 AOP？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-28T08:50:57.000Z" title="发表于 2022-09-28 16:50:57">2022-09-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:55:58.891Z" title="更新于 2022-10-03 14:55:58">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Mybatis/">Mybatis</a></span></div><div class="content">IoC什么是IoC?IoC Inversion of Control（控制反转&#x2F;反转控制），注意它是一个技术思想，不是一个技术实现描述的事情：Java开发领域对象的创建、管理的问题传统开发方式：比如类A依赖于类B，往往会在类A中new一个B的对象IoC思想下开发方式：我们不用自己去new对象了，而是由IoC容器（Spring框架）去帮助我们实例化对象并且管理它，我们需要使用哪个对象，去问IoC容器要即可我们丧失了一个权利（创建、管理对象的权利），得到了一个福利（不用考虑对象的创建、管理等一系列事情）。
为什么叫做控制反转?控制：指的是对象创建（实例化、管理）的权利反转：控制权交给外部环境了（Spring框架、IoC容器）
IoC解决了什么问题IoC解决对象之间的耦合问题。
IoC 和 DI 的区别DI：Dependancy Injection（依赖注入）怎么理解: IOC 和 DI 描述的其实是同一件事情，只是⻆度不一样。
AOPAspect Oriented Programming 面向切面编程&#x2F;面向方面编程，AOP是OOP的延续。
OOP：OOP三大特征：封装、 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/b8228d97.html" title="Spring 入门"><img class="post_bg" src="https://img-blog.csdnimg.cn/df0486e7b51f4b5aa1b9234b24dc266a.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring 入门"></a></div><div class="recent-post-info"><a class="article-title" href="/b8228d97.html" title="Spring 入门">Spring 入门</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-28T08:50:29.000Z" title="发表于 2022-09-28 16:50:29">2022-09-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:54:38.798Z" title="更新于 2022-10-03 14:54:38">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a></span></div><div class="content">BeanFactory 与 ApplicationContext 区别BeanFactory 是 Spring 框架中 IoC 容器的顶层接口，它只是用来定义一些基础功能，定义一些基础规范，而 ApplicationContext 是它的一个子接口，所以 ApplicationContext是具备 BeanFactory 提供的全部功能的。通常，我们称 BeanFactory 为 SpringIOC 的基础容器，ApplicationContext 是容器的高级接口，比 BeanFactory 要拥有更多的功能，比如说国际化支持和资源访问（xml，java配置类）等等。
使用 Spring IoC 容器的方式XML 方式xml 文件头1234567&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;       xmlns:xsi=&quot;http://www.w3 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/1b593aed.html" title="开发 Mybatis 插件"><img class="post_bg" src="https://img-blog.csdnimg.cn/7030a1d9bbd44b708a3797128d232b8c.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开发 Mybatis 插件"></a></div><div class="recent-post-info"><a class="article-title" href="/1b593aed.html" title="开发 Mybatis 插件">开发 Mybatis 插件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-28T08:30:44.000Z" title="发表于 2022-09-28 16:30:44">2022-09-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:55:54.004Z" title="更新于 2022-10-03 14:55:54">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Mybatis/">Mybatis</a></span></div><div class="content">Mybatis 插件Mybatis 插件介绍Mybatis 借助于四大核心对象（Executor、StatementHandler、ParameterHandler、ResultSetHandler）对持久层的进行操作。支持用插件对四大核心对象进行拦截，增强核心对象的功能。增强功能本质上是借助于底层的动态代理实现的，所以 MyBatis 中的四大对象都是代理对象。MyBatis 所允许拦截的方法如下:

执行器 Executor（update、query、commit、rollback等方法）
SQL语法构建器 StatementHandler（prepare、parameterize、batch、updates query 等方法）
参数处理器 ParameterHandler（getParameterObject、setParameters方法）
结果集处理器 ResultSetHandler（handleResultSets、handleOutputParameters等方法）

Mybatis 插件原理在四大对象创建的时候

每个创建出来的对象不是直接返回的，而是通过 inte ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/690a266d.html" title="Spring IoC 容器初始化主体流程"><img class="post_bg" src="https://img-blog.csdnimg.cn/1b40502ab717476ba8ee7df0931ea527.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring IoC 容器初始化主体流程"></a></div><div class="recent-post-info"><a class="article-title" href="/690a266d.html" title="Spring IoC 容器初始化主体流程">Spring IoC 容器初始化主体流程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-28T06:58:11.000Z" title="发表于 2022-09-28 14:58:11">2022-09-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:56:18.478Z" title="更新于 2022-10-03 14:56:18">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a></span></div><div class="content">Spring IoC容器初始化主体流程Spring IoC 的容器体系IoC 容器是 Spring 的核心模块，是抽象了对象管理、依赖关系管理的框架解决方案。Spring 提供了很多的容器，其中 BeanFactory 是顶层容器（根容器），不能被实例化，它定义了所有 IoC 容器必须遵从的一套原则，具体的容器实现可以增加额外的功能。比如我们常用到的 ApplicationContext，其下更具体的实现如 ClassPathXmlApplicationContext 包含了解析 xml 等一系列的内容， AnnotationConfigApplicationContext 则是包含了注解解析等一系列的内容。Spring IoC 容器继承体系非常灵活，需要使用哪个层次用哪个层次即可，不必使用功能大而全的。
BeanFactory 顶级接口方法栈12345678910111213141516171819202122232425262728293031323334353637public interface BeanFactory &#123;    /**    * 返回  Factor ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/5ed9a557.html" title="实现一个简单的 AOP 功能"><img class="post_bg" src="https://s2.loli.net/2022/09/28/xklYGdNOp2Jfo8s.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="实现一个简单的 AOP 功能"></a></div><div class="recent-post-info"><a class="article-title" href="/5ed9a557.html" title="实现一个简单的 AOP 功能">实现一个简单的 AOP 功能</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-28T06:31:51.000Z" title="发表于 2022-09-28 14:31:51">2022-09-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:56:07.085Z" title="更新于 2022-10-03 14:56:07">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a></span></div><div class="content">实现一个简单的 AOP 功能</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/e68d5b9.html" title="实现一个简单 IoC 容器"><img class="post_bg" src="https://s2.loli.net/2022/09/28/xklYGdNOp2Jfo8s.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="实现一个简单 IoC 容器"></a></div><div class="recent-post-info"><a class="article-title" href="/e68d5b9.html" title="实现一个简单 IoC 容器">实现一个简单 IoC 容器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-09-28T06:16:11.000Z" title="发表于 2022-09-28 14:16:11">2022-09-28</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-10-03T06:56:03.237Z" title="更新于 2022-10-03 14:56:03">2022-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Java 学习笔记</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Java/">Java</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Spring/">Spring</a></span></div><div class="content">实现一个简单 IoC 容器定义需要实例化对象的类的全限定类名以及类之间依赖关系的描述。
核心代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758public class BeanFactory &#123;    private final static Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();    static &#123;        InputStream resource = Resource.getResourceAsStream(&quot;beans.xml&quot;);        SAXReader saxReader = new SAXReader();        try &#123;            Document document = saxReader.read(resource);            El ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s2.loli.net/2022/09/28/iEBxunMYAGHODFz.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">小谷</div><div class="author-info__description">记录一些生活趣事</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/guziwen-lab"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/guziwen-lab/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:gu.ziwen@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://blog.csdn.net/qq_30087395/" target="_blank" title="Csdn"><i class="fa-solid fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎大家</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/cbde7b0b.html" title="Spring IoC 循环依赖问题"><img src="https://img-blog.csdnimg.cn/3aa3e44f116944ef9b10b4dd735c156a.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring IoC 循环依赖问题"/></a><div class="content"><a class="title" href="/cbde7b0b.html" title="Spring IoC 循环依赖问题">Spring IoC 循环依赖问题</a><time datetime="2022-10-03T06:53:41.000Z" title="发表于 2022-10-03 14:53:41">2022-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/adc3e213.html" title="Spring Bean 的作用范围及生命周期"><img src="https://img-blog.csdnimg.cn/46d42e4c19b2427da2b3e31453263650.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spring Bean 的作用范围及生命周期"/></a><div class="content"><a class="title" href="/adc3e213.html" title="Spring Bean 的作用范围及生命周期">Spring Bean 的作用范围及生命周期</a><time datetime="2022-10-03T06:51:45.000Z" title="发表于 2022-10-03 14:51:45">2022-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/a5d2d7c3.html" title="Mybaits 架构原理"><img src="https://s2.loli.net/2022/10/01/46p5Emr3uRMd7vo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mybaits 架构原理"/></a><div class="content"><a class="title" href="/a5d2d7c3.html" title="Mybaits 架构原理">Mybaits 架构原理</a><time datetime="2022-10-01T05:24:18.000Z" title="发表于 2022-10-01 13:24:18">2022-10-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/708392e6.html" title="解决阿里云服务器中挖矿程序"><img src="https://s2.loli.net/2022/10/01/fnwLNigZCUG7bTd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="解决阿里云服务器中挖矿程序"/></a><div class="content"><a class="title" href="/708392e6.html" title="解决阿里云服务器中挖矿程序">解决阿里云服务器中挖矿程序</a><time datetime="2022-09-29T02:31:11.000Z" title="发表于 2022-09-29 10:31:11">2022-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/30c60d5c.html" title="什么是 IoC 和 AOP？"><img src="https://img-blog.csdnimg.cn/d16ecf8f95a740f0a248bdc2849bb50f.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="什么是 IoC 和 AOP？"/></a><div class="content"><a class="title" href="/30c60d5c.html" title="什么是 IoC 和 AOP？">什么是 IoC 和 AOP？</a><time datetime="2022-09-28T08:50:57.000Z" title="发表于 2022-09-28 16:50:57">2022-09-28</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="card-category-list-name">Java 学习笔记</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%BA%BF%E4%B8%8A%E7%AA%81%E5%8F%91%E7%8A%B6%E5%86%B5%E5%A4%84%E7%90%86/"><span class="card-category-list-name">线上突发状况处理</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Java/" style="font-size: 1.5em; color: #99a9bf">Java</a> <a href="/tags/Linux/" style="font-size: 1.1em; color: #999">Linux</a> <a href="/tags/Mybatis/" style="font-size: 1.23em; color: #999ea6">Mybatis</a> <a href="/tags/Spring/" style="font-size: 1.37em; color: #99a4b2">Spring</a> <a href="/tags/SpringCloud/" style="font-size: 1.1em; color: #999">SpringCloud</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">11</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-09-27T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">9.9k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-10-03T07:15:42.506Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By 小谷</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>